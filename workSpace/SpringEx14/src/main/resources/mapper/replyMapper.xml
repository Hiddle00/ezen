<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<!-- Namespace를 통해 JAVA 클래스와 Annotation클래스와 동기 -->
<mapper namespace="mapper.reply"> <!-- mapper이름은 사용자 나름대로 지정해도 무방 -->
	<!-- 게시물 등록 쿼리 -->
	<insert id="reply_insert" parameterType="com.ezen.vo.ReplyVO" useGeneratedKeys="true" keyProperty="rno">
		insert into reply(no, userid, rnote)
		values(#{ no }, #{ userid }, #{ rnote })
	</insert>	
	
	<!-- 게시물 페이징 쿼리 -->
	<select id="reply_list" parameterType="com.ezen.vo.ReplyVO" resultType="com.ezen.vo.ReplyVO">
		select rno, userid, rnote, rwdate,
		(select name from user where userid = reply.userid) as name
		from reply
		where no = #{ no }
		order by no desc
	</select>
	
	<!-- 게시물 삭제 쿼리 -->
	<delete id="reply_delete" parameterType="String" >
		delete from reply 
		where rno = #{ rno }
	</delete>
</mapper>